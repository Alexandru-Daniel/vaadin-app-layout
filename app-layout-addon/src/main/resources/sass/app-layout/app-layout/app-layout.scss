@function brightness($c) {
  $rlin: (red($c)/255);
  $glin: (green($c)/255);
  $blin: (blue($c)/255);
  @return (0.2126 * $rlin + 0.7152 * $glin + 0.0722 * $blin) * 100;
}

@function color-contrast($color, $dark: #000, $light: #fff) {
  @if $color == null {
    @return null;
  } @else {
    $color-brightness: brightness($color);
    $light-text-brightness: brightness($light);
    $dark-text-brightness: brightness($dark);

    @return if(abs($color-brightness - $light-text-brightness) > abs($color-brightness - $dark-text-brightness), $light, $dark);
  }
}

@function bg-opacity($color, $opacity) {
  @return rgba($color, $opacity);
}

$al-font-size: 16px !default;
$al-unit-size: round(2.3 * $al-font-size) !default;
$al-border-radius: 4px !default;

$al-drawer-submenu-small-indention: 0px !default;
$al-drawer-persistent-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.15) !default;

$al-menu-button-active-font-color: var(--app-layout-primary-color) !default; // only used by material design
$al-menu-button-badge-background-color: #ffffff !default;
$al-menu-button-badge-font-color: var(--app-layout-primary-color) !default;
$al-menu-button-badge-border-radius: 5px !default;

$al-menu-button-horizontal-padding: round($al-unit-size/2.4) + round($al-border-radius/3) !default;

$al-menu-button-spacing: round($al-unit-size/3) !default;

$al-menu-section-padding: round($al-unit-size) !default;

$al-menu-disable-active-style: false !default;

body {
  --app-layout-primary-color: #{var(--lumo-primary-color)};
  --app-layout-background-color: #{var(--lumo-base-color)};
  --app-layout-font-size: #{$al-font-size};
  --app-layout-unit-size: #{$al-unit-size};
  --app-layout-border-radius: #{$al-border-radius};
  --app-layout-focus-color: #{ var(--app-layout-primary-color)};

  --app-layout-bar-height: 64px;
  --app-layout-bar-background-color: #{var(--app-layout-primary-color)};
  --app-layout-bar-font-color: #fff;
  --app-layout-bar-shadow: #{var(--lumo-box-shadow-m)};
  --app-layout-bar-z-index: 10;

  --app-layout-drawer-shadow: #{var(--lumo-box-shadow-m)};
  --app-layout-drawer-background-color: #{var(--lumo-base-color)};

  --app-layout-drawer-submenu-indention: 0px;
  --app-layout-drawer-submenu-small-indention: #{$al-drawer-submenu-small-indention};
  --app-layout-drawer-submenu-background-color: #{rgba(var(--lumo-primary-color),0.1)};
  --app-layout-drawer-font-color: #{var(--lumo-contrast-90pct)};
  --app-layout-drawer-persistent-shadow: #{$al-drawer-persistent-shadow};
  --app-layout-drawer-width: 256px;
  --app-layout-drawer-small-width: 63px;

  --app-layout-menu-button-active-background-color: #{rgba(var(--lumo-primary-color),0.1)}; // only used by material design
  --app-layout-menu-button-active-font-color: #{$al-menu-button-active-font-color}; // only used by material design
  --app-layout-menu-button-badge-background-color: #{$al-menu-button-badge-background-color};
  --app-layout-menu-button-badge-font-color: #{$al-menu-button-badge-font-color};
  --app-layout-menu-button-badge-border-radius: #{$al-menu-button-badge-border-radius};

  --app-layout-menu-button-horizontal-padding: #{$al-menu-button-horizontal-padding};
  --app-layout-menu-button-height: 48px;
  --app-layout-menu-button-spacing: #{$al-menu-button-spacing};

  --app-layout-menu-section-padding: #{$al-menu-section-padding};

  --app-layout-menu-submenu-max-height: 999px;
  --app-bar-height: var(--app-layout-bar-height);

  --app-menu-background-color: #{var(--lumo-base-color)};
  --app-menu-selected-bg-color: #{bg-opacity(var(--app-layout-primary-color), .1)};
  --app-menu-color: var(--lumo-secondary-text-color);

  --app-layout-badge-width: 25px;
  --app-layout-badge-height: 25px;
  --app-layout-badge-top: 0px;
  --app-layout-badge-right: 0px;
  --app-layout-badge-color: var(--app-layout-bar-font-color);
  --app-layout-badge-small-width: 5px;
  --app-layout-badge-small-height: 5px;
  --app-layout-badge-small-top: -12px;
  --app-layout-badge-small-right: -4px;

  --app-layout-badge-background: var(--lumo-primary-contrast-color);
  --app-layout-badge-font-color: var(--lumo-primary-text-color);

  --paper-drawer-title-background-color: #{var(--lumo-base-color)};
  --paper-drawer-title-color: #{var(--lumo-body-text-color)};

}